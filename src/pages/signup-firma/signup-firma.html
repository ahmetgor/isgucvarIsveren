<!--
  Generated template for the SignupFirmaPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Firma Kayıt</ion-title>
  </ion-navbar>
  <!-- <script src='https://www.google.com/recaptcha/api.js'></script> -->
</ion-header>

<!-- <script src="//widget.cloudinary.com/global/all.js" type="text/javascript"></script>
<script type="text/javascript">
  document.getElementById("upload_widget_opener").addEventListener("click", function() {
    cloudinary.openUploadWidget({ cloud_name: 'isgucvar', upload_preset: 'cod9ui0a'},
      function(error, result) { console.log(error, result) });
  }, false);
</script> -->
<ion-content padding>
  <!-- <a href="#" id="upload_widget_opener">Upload multiple images</a> -->

  <form #heroForm="ngForm">
            <ion-list>
              <ion-item-divider no-lines color="light">Yönetici Bilgileri:</ion-item-divider>
              <input type="file" #userFileInput style="visibility: hidden; height: 0px" (change)="processWebImage($event, 'user')" required />
              <div class="profile-image-wrapper">
                <div class="profile-image-placeholder" *ngIf="!userUrl" (click)="getPicture('user')">
                  <ion-icon name="add"></ion-icon>
                  <div>Profil Resmi</div>
                </div>
                <!-- <div class="profile-image" [style.backgroundImage]="getProfileImageStyle(userUrl)" *ngIf="userUrl"></div> -->
                <div *ngIf="userUrl" >
                    <img class="profile-image" [src]="userUrl" (click)="getPicture('user')">
                </div>
              </div>
                <ion-item>
                    <ion-label><ion-icon name="mail"></ion-icon></ion-label>
                    <ion-input [(ngModel)]="email" placeholder="Email" type="email" #name="ngModel" name="name" required
                    pattern="[A-Za-z0-9._%+-]{3,}@[a-zA-Z]{3,}([.]{1}[a-zA-Z]{2,}|[.]{1}[a-zA-Z]{2,}[.]{1}[a-zA-Z]{2,})">
                  </ion-input>
                </ion-item>
                <ion-item no-lines *ngIf="name.errors">
                    <p style="color:red;">Lütfen geçerli email giriniz</p>
                </ion-item>
                <ion-item>
                    <ion-label><ion-icon name="lock"></ion-icon></ion-label>
                    <ion-input [(ngModel)]="password" placeholder="Şifre" type="password" #pass="ngModel" name="pass" minlength="6" required>
                    </ion-input>
                </ion-item>
                <ion-item no-lines *ngIf="pass.errors">
                    <p style="color:red;">Şifre minimum 6 karakter olmalı</p>
                </ion-item>
                <ion-item>
                    <ion-label><ion-icon name="lock"></ion-icon></ion-label>
                    <ion-input [(ngModel)]="password1" placeholder="Tekrar Şifre" type="password" #pass1="ngModel" name="pass1" minlength="6" required>
                    </ion-input>
                </ion-item>
                <ion-item no-lines *ngIf="pass1.value != pass.value">
                    <p style="color:red;">Girilen şifreler aynı değil</p>
                </ion-item>

                <p>
                </p>
                <ion-item-divider no-lines color="light">Firma Bilgileri:</ion-item-divider>
                <input type="file" #firmaFileInput style="visibility: hidden; height: 0px" (change)="processWebImage($event, 'firma')" required/>
                <div class="profile-image-wrapper">
                  <div class="profile-image-placeholder" *ngIf="!firmaUrl" (click)="getPicture('firma')">
                    <ion-icon name="add"></ion-icon>
                    <div>Firma Logosu</div>
                  </div>
                  <!-- <div class="profile-image" [style.backgroundImage]="getProfileImageStyle(firmaUrl)" *ngIf="firmaUrl"></div> -->
                  <div *ngIf="firmaUrl" >
                      <img class="profile-image" [src]="firmaUrl" (click)="getPicture('firma')">
                  </div>
                </div>
                <ion-item>
                    <ion-label><ion-icon name="power"></ion-icon></ion-label>
                    <ion-input [(ngModel)]="firma" placeholder="Firma ismi" type="text" #firmaa="ngModel" name="firma" required></ion-input>
                </ion-item>
                <ion-item no-lines *ngIf="firmaa.errors">
                    <p style="color:red;">Lütfen geçerli firma giriniz</p>
                </ion-item>
                <ion-item>
                    <ion-label><ion-icon name="lock"></ion-icon></ion-label>
                    <ion-input [(ngModel)]="firmaPass" placeholder="Firma Şifresi" type="password" #firmaPasss="ngModel" name="firmaPass" minlength="6" required>
                    </ion-input>
                </ion-item>
                <ion-item no-lines *ngIf="firmaPasss.errors">
                    <p style="color:red;">Firma Şifresİ minimum 6 karakter olmalı</p>
                </ion-item>
                <ion-item>
                    <ion-label><ion-icon name="lock"></ion-icon></ion-label>
                    <ion-input [(ngModel)]="firmaPass1" placeholder="Şifre tekrar" type="password" #firmaPasss1="ngModel" name="firmaPass1" minlength="6" required>
                    </ion-input>
                </ion-item>
                <ion-item no-lines *ngIf="firmaPasss1.value != firmaPasss.value">
                    <p style="color:red;">Girilen firma şifreleri aynı değil</p>
                </ion-item>

            </ion-list>
            <div class="g-recaptcha" data-sitekey="6LeWBS4UAAAAAAvIlSnwKqhUq2u4gPuTdLAU6UOZ"></div>

            <button ion-button block (click)="registerFirma()"
                    [disabled]="!heroForm.form.valid||firmaPasss1.value != firmaPasss.value||pass1.value != pass.value">Kaydol</button>
          </form>

</ion-content>
